<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Java on The Coding Notes</title>
    <link>https://lexcao.io/zh/tags/java/</link>
    <description>Recent content in Java on The Coding Notes</description>
    <image>
      <url>https://images.unsplash.com/photo-1510843572979-e4b9e790fdd7?auto=format&fit=crop&w=720&q=80</url>
      <link>https://images.unsplash.com/photo-1510843572979-e4b9e790fdd7?auto=format&fit=crop&w=720&q=80</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <lastBuildDate>Mon, 03 May 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://lexcao.io/zh/tags/java/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Kotlin/Java TDD å¼€å‘æµç¨‹è®°å½•</title>
      <link>https://lexcao.io/zh/posts/kotlin-java-tdd-example/</link>
      <pubDate>Mon, 03 May 2021 00:00:00 +0000</pubDate>
      
      <guid>https://lexcao.io/zh/posts/kotlin-java-tdd-example/</guid>
      <description>é€šè¿‡ä½¿ç”¨ Kotlin / Java ä¸­ Junit5 å’Œ Mockito æµ‹è¯•æ¡†æ¶ï¼Œåœ¨é¢„çº¦åŠŸèƒ½ä¸­æ¼”ç¤º TDD å¼€å‘æµç¨‹ã€‚
TDD ä»‹ç» TDDï¼ˆTest-Driven Developmentï¼‰ æ˜¯ä¸€ç§å¼€å‘æµç¨‹ï¼Œä¸­æ–‡æ˜¯ã€Œæµ‹è¯•é©±åŠ¨å¼€å‘ã€ã€‚ç”¨ä¸€å¥ç™½è¯å½¢å®¹ï¼Œå°±æ˜¯ã€Œå…ˆå†™æµ‹è¯•å†å¼€å‘ã€ã€‚å…ˆå†™æµ‹è¯•é™¤äº†èƒ½ç¡®ä¿æµ‹è¯•ç¨‹å¼çš„æ’°å†™ï¼Œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼šæœ‰åŠ©äºåœ¨å¼€å‘åˆæœŸå˜æ¸…ç¨‹å¼ä»‹é¢å¦‚ä½•è®¾è®¡ã€‚è¯¦ç»†ç†è®ºçŸ¥è¯†å¯ä»¥å‰å¾€ Wiki äº†è§£ï¼Œè¿™é‡Œä¸å†è¿‡å¤šä»‹ç»ã€‚
 æµ‹è¯•é©±åŠ¨å¼€å‘ Test Driven Development  TDD å¼€å‘æµç¨‹ï¼ˆ5æ­¥ï¼‰ æœ¯è¯­è¯´æ˜ï¼š
 çº¢ç¯ - Failure - æµ‹è¯•ç”¨ä¾‹å¤±è´¥ ç»¿ç¯ - Success - æµ‹è¯•ç”¨ä¾‹æˆåŠŸ é‡æ„ - Refactor - é‡æ„åŠŸèƒ½ä»£ç   å…·ä½“æ­¥éª¤ï¼š
 é€‰å®šä¸€ä¸ªåŠŸèƒ½ï¼Œç¼–å†™æµ‹è¯•ç”¨ä¾‹ æ‰§è¡Œæµ‹è¯•ï¼Œå¾—åˆ°ã€çº¢ç¯ã€‘ ç¼–å†™æ»¡è¶³æµ‹è¯•ç”¨ä¾‹çš„åŠŸèƒ½ä»£ç  å†æ¬¡æ‰§è¡Œï¼Œå¾—åˆ°ã€ç»¿ç¯ã€‘ ã€é‡æ„ã€‘ä»£ç   å°ç»“ï¼š
å¯¹äºæ¯ä¸€ä¸ªåŠŸèƒ½ï¼Œåœ¨ã€çº¢ç¯ã€‘-ã€ç»¿ç¯ã€‘-ã€é‡æ„ã€‘é—´æ¥å›å¾ªç¯å¾€å¤ï¼Œä¸æ–­å¾—åˆ°å®Œå–„ã€‚
å‰ç½®å·¥ä½œ ä»£ç è¯´æ˜  ä½¿ç”¨ Kotlin è¯­è¨€ï¼ˆä¼šæœ‰ç›¸å¯¹åº”çš„ Java ä»£ç ï¼‰ ä½¿ç”¨åˆ°çš„æµ‹è¯•æ¡†æ¶  Running: JUnit5 Mock: MockK / Mockito Assertion: Kotest / AssertJ   åªæ¶‰åŠ TDD çš„å…·ä½“æµç¨‹ï¼Œä¸æ¶‰åŠå•å…ƒæµ‹è¯•å¦‚ä½•ç¼–å†™ï¼ˆå¯ä»¥çœ‹ SpringBoot å•å…ƒæµ‹è¯•å„å±‚ï¼‰  åŠŸèƒ½ä»‹ç» å‡è®¾ä¸€ä¸ªç”¨æˆ·é¢„çº¦çš„åœºæ™¯ã€‚</description>
    </item>
    
    <item>
      <title>Spring Data JPA å¤šæ¡ä»¶åŠ¨æ€è¿è¡¨æŸ¥è¯¢</title>
      <link>https://lexcao.io/zh/posts/spring-data-jpa-join-table/</link>
      <pubDate>Sun, 04 Apr 2021 00:00:00 +0000</pubDate>
      
      <guid>https://lexcao.io/zh/posts/spring-data-jpa-join-table/</guid>
      <description>ç—›ç‚¹ é¡¹ç›®ä¸­ä½¿ç”¨ Spring Data JPA ä½œä¸º ORM æ¡†æ¶çš„æ—¶å€™ï¼Œå®ä½“æ˜ å°„éå¸¸æ–¹ä¾¿ã€‚Spring Data Repository çš„é¡¶å±‚æŠ½è±¡å®Œå…¨è§£å†³å•å®ä½“çš„æŸ¥è¯¢ï¼Œé¢å¯¹å•å®ä½“çš„å¤æ‚æŸ¥è¯¢ï¼Œä¹Ÿèƒ½ä½¿ç”¨ JpaSpecificationExecutor&amp;lt;T&amp;gt; æ„é€  Specification&amp;lt;T&amp;gt; è½»æ¾åº”å¯¹ã€‚
è€Œå¯¹äºåå°ç®¡ç†æŠ¥è¡¨æŸ¥è¯¢éœ€æ±‚æ¥è¯´ï¼Œéœ€è¦è¿›è¡Œè¿è¡¨å¤šæ¡ä»¶åŠ¨æ€æŸ¥è¯¢çš„æ—¶å€™ï¼Œå°±æ˜¾å¾—æ— ä»ä¸‹æ‰‹ã€‚å› ä¸ºå®ƒå¹¶ä¸åƒ MyBatis ä¸€æ ·èƒ½å¤Ÿåœ¨ XML æ–‡ä»¶ä¸­å†™å‡ºåŠ¨æ€ SQL è¯­å¥ã€‚
å°½ç®¡å¯ä»¥ä½¿ç”¨ EntityManager åŠ¨æ€æ‹¼æ¥åŸç”Ÿ SQL è¯­å¥ï¼Œä½†æ˜¯è¯¥æ–¹æ³•è¿”å›å€¼ä¸º ResultSet ï¼Œä¹Ÿå°±æ˜¯è¯´æŸ¥å‡ºæ¥çš„å®ä½“æ˜ å°„å…³ç³»éœ€è¦æ‰‹åŠ¨æ˜ å°„ï¼ˆğŸ˜¢è¿™æ ·ä¸å¤ªä¼˜é›…ï¼Œå·²ç»å®šä¹‰å‡ºå®ä½“ï¼Œè¿˜éœ€è¦è‡ªå·±å»æ˜ å°„ï¼‰ã€‚
æ‰€ä»¥ï¼Œæœ¬æ–‡çš„ç›®çš„æ˜¯ï¼Œåœ¨ç°æœ‰å®ä½“å…³ç³»çš„åŸºç¡€ä¸Šï¼Œç»“åˆ Specification&amp;lt;T&amp;gt; è®°å½•ä¸‹ Spring Data JPA å¤šæ¡ä»¶åŠ¨æ€è¿è¡¨æŸ¥è¯¢æ“ä½œï¼Œä»¥åŠå…¶ä¸­çš„è¸©å‘å’Œä¼˜åŒ–ã€‚
åŸºç¡€æ“ä½œ é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹è¿›å…¥ä»£ç æ“ä½œã€‚ã€æœ¬æ–‡æ‰€æœ‰ä»£ç åœ¨æ­¤ã€‘
å‰ç½®è¯´æ˜ ç›¸å…³ä¾èµ–  Java 11 SpringBoot 2.4.2  build.gradle
plugins { id &amp;#39;org.springframework.boot&amp;#39; version &amp;#39;2.4.2&amp;#39; id &amp;#39;io.spring.dependency-management&amp;#39; version &amp;#39;1.0.11.RELEASE&amp;#39; id &amp;#39;java&amp;#39; } dependencies { implementation &amp;#39;org.springframework.boot:spring-boot-starter-data-jpa&amp;#39; compileOnly &amp;#39;org.projectlombok:lombok&amp;#39; runtimeOnly &amp;#39;mysql:mysql-connector-java&amp;#39; annotationProcessor &amp;#39;org.projectlombok:lombok&amp;#39; testImplementation &amp;#39;org.</description>
    </item>
    
    <item>
      <title>ä¸€æ¬¡çº¿ç¨‹æ­»é”æ’æŸ¥è®°å½•</title>
      <link>https://lexcao.io/zh/posts/async-within-async/</link>
      <pubDate>Sat, 21 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://lexcao.io/zh/posts/async-within-async/</guid>
      <description>èƒŒæ™¯ æŸæ¬¡å‘ç‰ˆä¹‹åï¼Œçº¿ä¸ŠæœåŠ¡ä½æ¦‚ç‡å‡ºç°æŸå°å®ä¾‹æ¥å£å“åº”è¶…æ—¶ï¼Œå…·ä½“è¡¨ç°ä¸ºï¼š
 /health æ¥å£è¶…æ—¶æŠ¥è­¦ï¼› çº¿ç¨‹æ­»é”ï¼ŒTomcat çº¿ç¨‹æ± åƒæ»¡ï¼› æœåŠ¡å®Œå…¨æ— å“åº”ã€‚  ä¿ç•™ä¸‹å½“å‰ heap dump å’Œ thread stack åï¼Œä¸´æ—¶é‡å¯æœåŠ¡å™¨æ¢å¤æ­£å¸¸ã€‚
# heap dump $ jmap -dump:format=b,file=dump.hprof [pid] # thread stack jstack [pid] &amp;gt; stack.txt æ¥ä¸‹æ¥ç®€å•è®°å½•ä¸€ä¸‹æ’æŸ¥ç»“æœã€‚ ï¼ˆæ­¤æ–‡ä¸ºå›å¿†æ‰€å†™ï¼Œå½“æ—¶æ’æŸ¥çš„æ€è€ƒç»†èŠ‚å’Œè¿‡ç¨‹å·²çœç•¥ï¼‰
æ’æŸ¥ heap dump ä½¿ç”¨å·¥å…· Eclipse + MAT
å®‰è£… # å®‰è£… eclipse $ brew cask install eclipse-java # å®‰è£… eclipse MAT $ brew cask install mat # æ˜¯çš„ï¼Œè¿™ä¸ªå°±æ˜¯ eclipse-mat ç›¸å…³è¿æ¥   Eclipse
  Eclipse MAT
  ä½¿ç”¨   æŠŠ heap dump æ–‡ä»¶ dump.</description>
    </item>
    
  </channel>
</rss>
